<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/assets/global.css" />
        <link id="themeCSSLink" rel="stylesheet" href="/assets/dark.css" media="(prefers-color-scheme: dark)" />
        <link rel="stylesheet" href="/assets/highlight.css" />
        <script src="https://cdn.jsdelivr.net/gh/swiftysites/theme-switch@release/src/theme-switch.min.js"></script>
        <script src="/assets/highlight.js"></script>
        <script>hljs.highlightAll();</script>
        <title>SwiftySites | Syntax Highlighting</title>
    </head>
    <body>
        <header>
            <nav>
    <ul>
        <li><a href="/">Home</a></li><li><a href="/cmark-gfm">CMark-GFM</a></li><li><a href="/posts">Archive</a></li><li><a href="/tags">Topics</a></li>
    </ul>
</nav>
            <theme-switch stylesheet-id="themeCSSLink" color="rgb(3, 102, 214)" color-dark="rgb(88, 166, 255)"></theme-switch>
        </header>
        <main>
    <article>
    <header>
        <h1><a href="/posts/syntax-highlighting">Syntax Highlighting</a></h1>
        <div>dl on 5 Sep 2021</div>
    </header>
    <main>
    <p>After overcomming the first big challenge of implementing <a href="/posts/supporting-markdown">Markdown support</a> I found out rather quickly that this did not include any type of syntax hightlighting.</p>
<p>All <code>pre</code> blocks were rendered with no color and the code block <a href="https://github.github.com/gfm/#info-string">info string</a> was largely ignored by my basic stylesheet.</p>
<p>Once again I turned to Apple and noticed they were using <a href="https://highlightjs.org">highlight.js</a> to generate the code blocks used in <a href="https://developer.apple.com/documentation/docc">DocC</a>.</p>
<p>I decided to <a href="https://highlightjs.org/download/">customize</a> my download to include only the languages I would need for this blog. I also picked one of the many color schemes they have available.</p>
<p>To put it to the test what better way than including a chunk of the code used to generate this exact page with SwiftySites. Lo and behold the coloring magically appears.</p>
<figcaption>main.js</figcaption>
<pre><code class="language-swift">let homePage = Page(&quot;Home Page&quot;, path: &quot;/&quot;) { &quot;&quot;&quot;
_Some markdown here…_
&quot;&quot;&quot;

let pageTemplate = BasicSite.templateA { site, page in &quot;&quot;&quot;
&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
    …
    &lt;title&gt;\(site.title)&lt;/title&gt;
    …
    &lt;main&gt;\(page.content)&lt;/main&gt;
    …
&lt;/html&gt;
&quot;&quot;&quot; }

BasicSite(
    SiteConfig(title: &quot;SwiftySites&quot;),
    contentA: [homePage],
    templates: [pageTemplate]
).render()
</code></pre>
<p>Now having inspected a DocC-generated site I have noticed that Apple is using a custom language definition for <code>highlight.js</code>. Since the code is obfuscated I couldn't extract it to incorporate into this site. Still the default Swift definition is decent enough and all of the other languages render nicely.</p>

    </main>
</article>
</main>
        <footer>
            <span>Made with  and <a href="https://github.com/swiftysites/swiftysites">SwiftySites</a>.</span>
        </footer>
    </body>
</html>